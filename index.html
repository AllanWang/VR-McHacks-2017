<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,shrink-to-fit=no,user-scalable=no,maximum-scale=1">
    <title>Examples â€¢ Playground</title>
    <script src="aframe/aframe.js"></script>
    <script src="primitives/wall.js"></script>
    <script src="aframe/aframe-extras.min.js"></script>
    <script src="keys.js"></script>
</head>
<body>
<a-scene>
    <!-- Player -->
    <a-entity id="player" camera
              universal-controls
              kinematic-body
              jump-ability
              position="35 1.764 -35"></a-entity>

    <!-- Ground -->
    <a-grid static-body></a-grid>

    <a-entity position="10 5 -25">
        <a-wall position="5 0 5" rotation="0 90 0" static-body></a-wall>
        <a-wall position="-5 0 5" rotation="0 90 0" static-body></a-wall>
        <a-wall position="0 5 5" rotation="90 0 0" static-body></a-wall>
        <a-wall position="0 -5 5" rotation="90 0 0" static-body></a-wall>
        <!--left right sphere-->
        <a-sphere position="0 0 2" radius="1" color="#eee" static-body>
            <a-animation
                    attribute="position"
                    callback="left"
                    dur="750"
                    from="0 0 2" to="-4 0 2">
            </a-animation>
            <a-animation
                    attribute="position"
                    begin="left"
                    callback="right"
                    dur="1500"
                    from="-4 0 2" to="4 0 2">
            </a-animation>
            <a-animation
                    attribute="position"
                    begin="right"
                    callback="left"
                    dur="1500"
                    from="4 0 2" to="-4 0 2">
            </a-animation>
        </a-sphere>
        <a-sphere position="0 4 2" radius="1" color="#eee" static-body>
            <a-animation
                    attribute="position"
                    callback="down"
                    dur="1500"
                    from="0 4 2" to="0 -4 2">
            </a-animation>
            <a-animation
                    attribute="position"
                    begin="up"
                    callback="down"
                    dur="1500"
                    from="0 4 2" to="0 -4 2">
            </a-animation>
            <a-animation
                    attribute="position"
                    begin="down"
                    callback="up"
                    dur="1500"
                    from="0 -4 2" to="0 4 2">
            </a-animation>
        </a-sphere>
    </a-entity>

    <a-entity position="0 2 0">
        <!-- Tower -->
        <a-box id="tower"
               color="#39BB82"
               width="10" height="8" depth="6"
               position="0 1 -15"
               static-body></a-box>

        <!-- Ramp -->
        <!--
        Ramp ends at
            z (depth) = -15+6/2 = -12
            y (height) = 1 + 8/2 = 5
            find (y,z) such that
                y+d/2*sin(45)+h/2*sin(45) = 5
                z-d/2*cos(45)-h/2*sin(45) = -12
            So
                y = -(d+h)/2*sin(45) + 5
                z = (d+h)/2*cos(45) - 12
            With d = 15,
                y = -0.65685424949
                z = -6.34314575051
        -->
        <a-box id="ramp"
               color="#39BB82"
               width="1" height="1" depth="15"
               position="0 -0.65685424949 -7.05025253169"
               rotation="45 0 0"
               static-body></a-box>
    </a-entity>

    <!-- Starting Block -->
    <a-box
           color="#39BB82"
           width="1" height="5" depth="11.4"
           position="15 0 -35"
           rotation="20 90 0"
           static-body></a-box>
    <a-box
           color="#39BB82"
           width="1" height="5" depth="11.4"
           position="10 0 -30"
           rotation="20 0 0"
           static-body></a-box>
    <a-box color="#39BB82"
           width="1" height="8.6" depth="1"
           position="10 0 -35"
           static-body></a-box>
    <a-box id="platform-start"
           color="#39BB82"
           width="4" height="0.25" depth="4"
           position="35 0 -35"
           velocity="0 0 0"
           toggle-velocity="axis: z; min: -35; max: -28.5;"
           static-body></a-box>
    <a-box id="platform-start-second"
           color="#39BB82"
           width="4" height="0.25" depth="4"
           position="30 0 -35"
           velocity="0 0 0"
           toggle-velocity="axis: x; min: 23.5; max: 30;"
           static-body></a-box>

    <!-- Moving platforms -->
    <a-box id="platform1"
           color="#39BB82"
           width="4" height="0.25" depth="4"
           position="7 0.125 -15"
           velocity="0 0 0"
           toggle-velocity="axis: z; min: -5; max: 5;"
           static-body></a-box>
    <a-box id="platform2"
           color="#39BB82"
           width="4" height="0.25" depth="4"
           position="-7 0.125 -15"
           velocity="0 0 0"
           toggle-velocity="axis: y; min: 0.125; max: 6;"
           static-body></a-box>
    <a-box id="platform3"
           color="#39BB82"
           width="4" height="0.25" depth="4"
           position="-7 8 -15"
           velocity="0 0 0"
           toggle-velocity="axis: y; min: 8; max: 13.875;"
           static-body></a-box>
    <a-box id="platform4"
           color="#39BB82"
           width="4" height="0.25" depth="4"
           position="-7 13.875 -3.125"
           velocity="0 0 0"
           toggle-velocity="axis: z; min: -9; max: -3.125;"
           static-body></a-box>
    <a-box color="#39BB82"
           width="2" height="1" depth="2"
           position="-6 14.375 -2.125"
           dynamic-body></a-box>
    <a-box id="platform5"
           color="#39BB82"
           width="4" height="0.25" depth="4"
           position="-7 12.875 2.5"
           velocity="0 0 0"
           toggle-velocity="axis: x; min: -7; max: -1.125;"
           static-body></a-box>


    <!-- Blocks -->
    <a-box color="#39BB82"
           width="1" height="1" depth="1"
           position="15 2 0.6"
           dynamic-body></a-box>
    <a-box color="#39BB82"
           width="1" height="1" depth="1"
           position="15 2 -0.6"
           dynamic-body></a-box>
    <a-box color="#39BB82"
           width="1" height="1" depth="1"
           position="15 4 0"
           dynamic-body></a-box>
    <a-cylinder color="#39BB82"
                rotation="90 0 0"
                position="15 2 4"
                dynamic-body></a-cylinder>
    <a-sphere color="#39BB82"
              position="15 2 -4"
              dynamic-body></a-sphere>

    <!-- Lighting -->
    <a-light type="ambient" color="#bbb"></a-light>
    <a-light color="#ccc" position="0 30 0" distance="100" intensity="0.4" type="point"></a-light>
    <a-light color="#ccc" position="3 10 -10" distance="50" intensity="0.4" type="point"></a-light>
</a-scene>
</body>

<script>
    function code(e) {
        e = e || window.event;
        return(e.keyCode || e.which);
    }
    window.onload = function(){
        document.onkeypress = function(e){
            var key = code(e);
            // do something with key
            switch (key) {
                case 114:
                    document.getElementById("player").setAttribute("position", "35 1.764 -35");
                    document.getElementById("platform-start").setAttribute("position", "35 0 -35");
                    document.getElementById("platform-start-second").setAttribute("position", "30 0 -35");
                    break;
            }
        };
    };
</script>
</html>